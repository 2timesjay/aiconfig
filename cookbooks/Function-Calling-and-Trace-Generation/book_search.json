{
  "name": "function-call-demo",
  "schema_version": "latest",
  "metadata": {
    "parameters": {},
    "models": {}
  },
  "description": "this is a demo AIConfig to show function calling using OpenAI",
  "prompts": [
    {
      "name": "recommendBook",
      "input": {
        "role": "user",
        "content": "I really enjoyed reading {{book}}, could you recommend me a book that is similar and tell me why?"
      },
      "metadata": {
        "model": {
          "name": "gpt-3.5-turbo",
          "settings": {
            "model": "gpt-3.5-turbo",
            "functions": [
              {
                "name": "list_items",
                "description": "list queries books by genre, and returns a list of names of books",
                "parameters": {
                  "properties": {
                    "genre": {
                      "title": "Genre",
                      "type": "string"
                    }
                  },
                  "required": [
                    "genre"
                  ],
                  "title": "Input for `list_items`",
                  "type": "object"
                }
              },
              {
                "name": "search",
                "description": "search queries books by their name and returns a list of book names and their ids",
                "parameters": {
                  "properties": {
                    "name": {
                      "title": "Name",
                      "type": "string"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "title": "Input for `search`",
                  "type": "object"
                }
              },
              {
                "name": "get",
                "description": "get returns a book's detailed information based on the id of the book. Note that this does not accept names, and only IDs, which you can get by using search.",
                "parameters": {
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "title": "Input for `get`",
                  "type": "object"
                }
              }
            ],
            "system_prompt": {
              "role": "system",
              "content": "Please use our book database, which you can access using functions to answer the following questions."
            }
          }
        },
        "parameters": {},
        "remember_chat_context": true
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 0,
          "data": {
            "function_call": {
              "arguments": "{\n  \"name\": \"Where the Crawdads Sing\"\n}",
              "name": "search"
            },
            "role": "assistant"
          },
          "metadata": {
            "finish_reason": "function_call"
          }
        }
      ]
    },
    {
      "name": "functionCallResult-b758f7b7-20e0-4ab5-9359-bb28d342e208",
      "input": {
        "role": "function",
        "name": "search",
        "content": "[{\"name\": \"Where the Crawdads Sing\", \"id\": \"a3\"}]"
      },
      "metadata": {
        "model": {
          "name": "gpt-3.5-turbo",
          "settings": {
            "model": "gpt-3.5-turbo",
            "functions": [
              {
                "name": "list_items",
                "description": "list queries books by genre, and returns a list of names of books",
                "parameters": {
                  "properties": {
                    "genre": {
                      "title": "Genre",
                      "type": "string"
                    }
                  },
                  "required": [
                    "genre"
                  ],
                  "title": "Input for `list_items`",
                  "type": "object"
                }
              },
              {
                "name": "search",
                "description": "search queries books by their name and returns a list of book names and their ids",
                "parameters": {
                  "properties": {
                    "name": {
                      "title": "Name",
                      "type": "string"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "title": "Input for `search`",
                  "type": "object"
                }
              },
              {
                "name": "get",
                "description": "get returns a book's detailed information based on the id of the book. Note that this does not accept names, and only IDs, which you can get by using search.",
                "parameters": {
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "title": "Input for `get`",
                  "type": "object"
                }
              }
            ],
            "system_prompt": {
              "role": "system",
              "content": "Please use our book database, which you can access using functions to answer the following questions."
            }
          }
        },
        "parameters": {},
        "remember_chat_context": true
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 0,
          "data": {
            "function_call": {
              "arguments": "{\n  \"id\": \"a3\"\n}",
              "name": "get"
            },
            "role": "assistant"
          },
          "metadata": {
            "finish_reason": "function_call"
          }
        }
      ]
    },
    {
      "name": "functionCallResult-b6ffc4fb-694c-4ec9-87c5-40d67c3d3f1b",
      "input": {
        "role": "function",
        "name": "get",
        "content": "{\"id\": \"a3\", \"name\": \"Where the Crawdads Sing\", \"genre\": \"historical\", \"description\": \"For years, rumors of the \\u201cMarsh Girl\\u201d haunted Barkley Cove, a quiet fishing village. Kya Clark is barefoot and wild; unfit for polite society. So in late 1969, when the popular Chase Andrews is found dead, locals immediately suspect her.\\n\\nBut Kya is not what they say. A born naturalist with just one day of school, she takes life's lessons from the land, learning the real ways of the world from the dishonest signals of fireflies. But while she has the skills to live in solitude forever, the time comes when she yearns to be touched and loved. Drawn to two young men from town, who are each intrigued by her wild beauty, Kya opens herself to a new and startling world\\u2014until the unthinkable happens.\"}"
      },
      "metadata": {
        "model": {
          "name": "gpt-3.5-turbo",
          "settings": {
            "model": "gpt-3.5-turbo",
            "functions": [
              {
                "name": "list_items",
                "description": "list queries books by genre, and returns a list of names of books",
                "parameters": {
                  "properties": {
                    "genre": {
                      "title": "Genre",
                      "type": "string"
                    }
                  },
                  "required": [
                    "genre"
                  ],
                  "title": "Input for `list_items`",
                  "type": "object"
                }
              },
              {
                "name": "search",
                "description": "search queries books by their name and returns a list of book names and their ids",
                "parameters": {
                  "properties": {
                    "name": {
                      "title": "Name",
                      "type": "string"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "title": "Input for `search`",
                  "type": "object"
                }
              },
              {
                "name": "get",
                "description": "get returns a book's detailed information based on the id of the book. Note that this does not accept names, and only IDs, which you can get by using search.",
                "parameters": {
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "title": "Input for `get`",
                  "type": "object"
                }
              }
            ],
            "system_prompt": {
              "role": "system",
              "content": "Please use our book database, which you can access using functions to answer the following questions."
            }
          }
        },
        "parameters": {},
        "remember_chat_context": true
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 0,
          "data": {
            "function_call": {
              "arguments": "{\n  \"genre\": \"historical\"\n}",
              "name": "list_items"
            },
            "role": "assistant"
          },
          "metadata": {
            "finish_reason": "function_call"
          }
        }
      ]
    },
    {
      "name": "functionCallResult-96fd96d6-4723-4481-bc1a-57feff5ecfd3",
      "input": {
        "role": "function",
        "name": "list_items",
        "content": "[{\"name\": \"To Kill a Mockingbird\", \"id\": \"a1\"}, {\"name\": \"All the Light We Cannot See\", \"id\": \"a2\"}, {\"name\": \"Where the Crawdads Sing\", \"id\": \"a3\"}]"
      },
      "metadata": {
        "model": {
          "name": "gpt-3.5-turbo",
          "settings": {
            "model": "gpt-3.5-turbo",
            "functions": [
              {
                "name": "list_items",
                "description": "list queries books by genre, and returns a list of names of books",
                "parameters": {
                  "properties": {
                    "genre": {
                      "title": "Genre",
                      "type": "string"
                    }
                  },
                  "required": [
                    "genre"
                  ],
                  "title": "Input for `list_items`",
                  "type": "object"
                }
              },
              {
                "name": "search",
                "description": "search queries books by their name and returns a list of book names and their ids",
                "parameters": {
                  "properties": {
                    "name": {
                      "title": "Name",
                      "type": "string"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "title": "Input for `search`",
                  "type": "object"
                }
              },
              {
                "name": "get",
                "description": "get returns a book's detailed information based on the id of the book. Note that this does not accept names, and only IDs, which you can get by using search.",
                "parameters": {
                  "properties": {
                    "id": {
                      "title": "Id",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "title": "Input for `get`",
                  "type": "object"
                }
              }
            ],
            "system_prompt": {
              "role": "system",
              "content": "Please use our book database, which you can access using functions to answer the following questions."
            }
          }
        },
        "parameters": {},
        "remember_chat_context": true
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 0,
          "data": {
            "content": "I would recommend the book \"To Kill a Mockingbird\" as it has a similar historical setting and themes to \"Where the Crawdads Sing\". \n\n\"To Kill a Mockingbird\" is set in the 1930s in a small town in Alabama and explores themes of racial injustice, inequality, and the loss of innocence. It tells the story of Scout Finch, a young girl who witnesses the trial of a black man accused of raping a white woman. Through Scout's perspective, the book examines the complexities of society and challenges the prevailing attitudes and prejudices of the time.\n\nBoth \"Where the Crawdads Sing\" and \"To Kill a Mockingbird\" use their historical settings to highlight social issues and the struggles faced by marginalized individuals. They also both feature strong and resilient female protagonists who defy societal expectations and face adversity in their lives.\n\nI believe you will enjoy \"To Kill a Mockingbird\" for its compelling storytelling, thought-provoking themes, and memorable characters.",
            "role": "assistant"
          },
          "metadata": {
            "finish_reason": "stop"
          }
        }
      ]
    }
  ]
}